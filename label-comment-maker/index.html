<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>hrm-tools</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" />
    <link rel="stylesheet" href="../css/main.css" />
    <style>      
      #input {
        text-transform: uppercase;
        font-size: 2.5rem;
      }
      
      #preview {
        background: #f0f0f0;
      }
    </style>
  </head>
  <body class="document">
    <header>
      <h1>
        <a href="https://github.com/nrkn/hrm-tools"><i class="fa fa-github"></i></a>
        <a href="../">hrm-tools</a>
      </h1>
      <h2>A collection of Human Resource Machine tools for the browser</h2>
      <nav>
        <ul class="row">
          <li>
            <a href="../">Home</a>
            <p>
              About Human Resource Machine and these tools
            </p>
          </li>
          <li>
            <a href="../emulator">Emulator</a>
            <p>
              Run/step through HRM programs
            </p>
          </li>
          <li>
            <a href="../label-comment-maker" class="current">Label/Comment Maker</a>
            <p>
              Create label/comment images from text
            </p>
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <section>
        <h1>Label/Comment Maker</h1>
        <p>
          Makes labels/comments that you can paste into your ASM code. Some notes:
        </p>
        <ul>
          <li>Supports all printable ASCII characters (except lowercase, converts to upper)</li>
          <li>If your text is too wide or high it will be rescaled, and can quickly become unreadable</li>
          <li>If your text is too long, it will be truncated - the game's image format has a size limit</li>
        </ul>
        <div class="row">
          <div>
            <label for="input">Text</label>
            <div class="aspect aspect-3-1">
              <div class="content">
                <textarea id="input" wrap="off">Hello
World!</textarea>
              </div>
            </div>
          </div>
          <div>
            <label>Preview</label>
            <div id="preview">
            </div>  
          </div>
        </div>
        <div class="row">
          <div>
            <label for="image">Image</label>
            <div class="aspect aspect-3-1">
              <div class="content">
                <textarea id="image" readonly wrap="off"></textarea>
              </div>
            </div>
          </div>
          <div>
            <label for="asm">ASM</label>
            <div class="aspect aspect-3-1">
              <div class="content">
                <textarea id="asm" readonly wrap="off"></textarea>
              </div>
            </div>
          </div>
        </div>
        <button id="generate">Generate</button>
      </section>
    </main>
    <footer>
      <p>
        Â© 2015 <a href="mailto:nrkn.com@gmail.com">Nik Coughlin</a>
      </p>
    </footer>
    <script src="../js/polyfills.js"></script>
    <script src="../js/hrm-web.js"></script>
    <script>
      (function(){
        'use strict'
        
        function generate(){
          var input = document.getElementById( 'input' )
          var image = document.getElementById( 'image' )
          var asm = document.getElementById( 'asm' )
          var preview = document.getElementById( 'preview' )
          
          var canvas = hrm.draw.Canvas()
          
          canvas.text( input.value )
          
          image.textContent = canvas.toImage()
          
          asm.textContent = canvas.toAsm()
          
          preview.innerHTML = canvas.toSvg()
        }   

        document.getElementById( 'generate' ).addEventListener( 'click', function( event ) {
          generate()
        }, false )
  
        generate()
      })()
    </script>  
  </body>
</html>
